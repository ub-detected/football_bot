# FootBot - Фронтенд мини-приложения для Telegram

Фронтенд часть приложения FootBot, построенного на React и TypeScript. Мини-приложение для Telegram, позволяющее организовывать футбольные игры, формировать команды и вести статистику игроков.

## Технический стек

- **Язык:** TypeScript
- **Фреймворк:** React
- **Сборщик:** Vite
- **Стилизация:** TailwindCSS
- **Маршрутизация:** React Router
- **Интеграция с Telegram:** Telegram Web App API
- **Иконки:** Lucide React

## Структура проекта

```
src/
├── components/           # Многоразовые UI компоненты
│   ├── Navigation.tsx    # Навигационная панель
│   ├── ThemeToggle.tsx   # Переключатель темы
│   ├── ThemeSwitch.tsx   # Компонент переключения темы
│   └── ...
├── pages/                # Основные страницы приложения
│   ├── Games.tsx         # Страница списка игр
│   ├── GameRoom.tsx      # Детальная страница игровой комнаты
│   ├── Leaderboard.tsx   # Таблица лидеров
│   └── Profile.tsx       # Профиль пользователя
├── api.ts                # API клиент для взаимодействия с бэкендом
├── types.ts              # TypeScript типы
├── App.tsx               # Корневой компонент приложения
├── main.tsx              # Точка входа
└── index.css             # Глобальные стили и настройки TailwindCSS
```

## Основные компоненты

### Страницы (pages)

- **Games.tsx** - Отображает список доступных игровых комнат и позволяет создавать новые
- **GameRoom.tsx** - Управление конкретной игровой комнатой (присоединение, формирование команд, ввод счета)
- **Leaderboard.tsx** - Таблица лидеров с рейтингом игроков
- **Profile.tsx** - Профиль пользователя с историей игр и настройками

### Компоненты (components)

- **Navigation.tsx** - Нижняя навигационная панель для переключения между страницами
- **ThemeToggle.tsx/ThemeSwitch.tsx** - Переключатели между светлой и темной темами
- **GameHistoryList.tsx** - Компонент для отображения истории игр
- **LocationAutocomplete.tsx** - Компонент для выбора места игры с автодополнением

## Особенности реализации

### Темная/Светлая тема

Приложение поддерживает две темы оформления - светлую и темную. Тема сохраняется в настройках пользователя на сервере.

```tsx
// Пример использования переключателя темы
<ThemeToggle 
  isDark={themeState.isDark} 
  onToggle={toggleTheme} 
/>
```

### Адаптивная верстка

Интерфейс оптимизирован для мобильных устройств с использованием стилей TailwindCSS.

### Интеграция с Telegram

Приложение использует Telegram Web App API для взаимодействия с Telegram:

```typescript
import WebApp from '@twa-dev/sdk';

// Пример отправки данных обратно в Telegram
WebApp.sendData(JSON.stringify({ action: 'some_action' }));
```

## Установка и запуск

### Требования

- Node.js 16+
- npm или yarn

### Установка

```bash
# Клонирование репозитория
git clone <repository-url>
cd footbot/TG_miniApp_front

# Установка зависимостей
npm install
# или
yarn install
```

### Настройка

Создайте файл `.env` в корневой директории проекта:

```
VITE_API_URL=http://localhost:5000/api
```

### Запуск в режиме разработки

```bash
npm run dev
# или
yarn dev
```

Приложение будет доступно по адресу http://localhost:5173/

### Сборка для production

```bash
npm run build
# или
yarn build
```

Собранные файлы будут размещены в директории `dist/`.

## API взаимодействие

Для взаимодействия с бэкендом используется модуль `api.ts`, который предоставляет готовые методы для всех необходимых API-запросов:

```typescript
// Пример использования API
import { userApi } from './api';

// Получение текущего пользователя
const fetchUser = async () => {
  try {
    const userData = await userApi.getCurrentUser();
    setUser(userData);
  } catch (error) {
    console.error('Failed to fetch user:', error);
  }
}
```

## Тестирование

Для запуска тестов:

```bash
npm test
# или
yarn test
```

## Известные проблемы и решения

### Проблема с отображением времени

В истории игр время может отображаться некорректно из-за часовых поясов. Это исправлено в последней версии путем явного указания формата UTC в API-ответах.

### Эффект наведения в темной теме

В таблице лидеров в темной теме эффект наведения (hover) может быть плохо заметен. Это исправлено путем увеличения контраста и добавления дополнительных визуальных эффектов.

## Вклад в проект

1. Создайте форк репозитория
2. Создайте ветку для вашей функциональности (`git checkout -b feature/amazing-feature`)
3. Зафиксируйте изменения (`git commit -m 'Add some amazing feature'`)
4. Отправьте изменения в ваш форк (`git push origin feature/amazing-feature`)
5. Откройте Pull Request 